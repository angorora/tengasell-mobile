<app-header [title]="'Register'" (navBack)="navigateBack()"
  >Security</app-header
>
<ion-content>
  <form [formGroup]="securityForm" (ngSubmit)="register()">
    <section class="security-details">
      <header class="ion-text-left section-header">Security Details</header>
      <ion-item>
        <ion-label position="floating">Username*</ion-label>
        <ion-input formControlName="username" [value]="username"></ion-input>
      </ion-item>
      <div
        *ngIf="(securityForm.controls.username.touched|| submitted) && securityForm.controls.username.errors?.required"
        class="error"
      >
        Please enter username
      </div>
      <div
        *ngIf="(securityForm.controls.username.touched|| submitted) && securityForm.controls.username.errors?.minlength"
        class="error"
      >
        Should be at least 5 characters long
      </div>
      <div
        *ngIf="(securityForm.controls.username.touched|| submitted) && securityForm.controls.username.errors?.pattern"
        class="error"
      >
        Username should be alphanumeric and may include _ and -
      </div>
      <ion-item>
        <ion-label position="floating">Password*</ion-label>
        <ion-input
          type="password"
          formControlName="password"
          [value]="passwordRetype"
        ></ion-input>
      </ion-item>
      <div
        *ngIf="(securityForm.controls.password.touched || submitted)&& securityForm.controls.password.errors?.required"
        class="error"
      >
        Please enter password
      </div>
      <ion-item>
        <ion-label position="floating">Retype Password*</ion-label>
        <ion-input
          type="password"
          formControlName="passwordRetype"
          [value]="passwordRetype"
        ></ion-input>
      </ion-item>
      <div
        *ngIf="(securityForm.controls.passwordRetype.touched || submitted) && securityForm.controls.passwordRetype.value !== securityForm.controls.password.value"
        class="error"
      >
        Passwords do not match
      </div>
    </section>
  </form>
</ion-content>
<ion-footer>
  <ion-button
    color="secondary"
    (click)="register()"
    expand="full"
    fill="outline"
    >Register <ion-icon slot="end" name="chevron-forward-outline"></ion-icon
  ></ion-button>
</ion-footer>
